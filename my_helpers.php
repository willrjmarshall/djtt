<?php/*** $str -String to truncate** $length - length to truncate** $trailing - the trailing character, default: "..."*/function truncate ($str, $length=10, $trailing='...') {		// take off chars for the trailing	$length-=mb_strlen($trailing);	if (mb_strlen($str)> $length) {		// string exceeded length, truncate and add trailing dots		return mb_substr($str,0,$length).$trailing;	}	else {		// string was already short enough, return the string		$res = $str;	}		return $res;}/** Return first image or default*/function getFirstImage ($content) {		preg_match_all('/<img[^>]*\ssrc=\"(https?:\/\/[\S\w]+)\"/i', $content, $matches, PREG_SET_ORDER);		if( count($matches) > 0 ) {		return '<img src="'.$matches[0][1].'"/>';	} else {		return '<img src="'.get_bloginfo('template_url').'/images/placeholder_play.jpg" style="margin-left: -6px;"/>';	}}function getFirstImageSrc ($content) {		preg_match_all('/<img[^>]*\ssrc=\"(https?:\/\/[\S\w]+)\"/i', $content, $matches, PREG_SET_ORDER);		if( count($matches) > 0 ) {		return $matches[0][1];	} else {		return get_bloginfo('template_url').'/images/play.jpg';	}}?>